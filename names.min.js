typeof define=="undefined"&&(define=function(e){e(),define=undefined}),define("names",[],function(){function i(i){var s,o,u,a,f,l=[];if(typeof i=="function"){i.__namesArgs=i.__namesArgs||{};if(!i.__namesArgs.args){s=i.toString().replace(r,""),o=s.match(e)[1],u=o.split(t);for(f=0;f<u.length;f++)a=u[f].match(n),a!==null&&l.push(a[1]);i.__namesArgs.args=l}return i.__namesArgs.args}throw new Error("getArgNamesFromFunction: func must be a function")}function s(e,t,n){if(!n)throw new Error("passesTypeCheck: name is required");if((!e||!e[n])&&t&&t[n])throw new Error('passesTypeCheck: argument "'+n+'" is required');if(!t||!t[n])return!0;if(e&&e[n]){if(typeof t[n]=="string"&&typeof e[n]===t[n])return!0;if(typeof t[n]=="function"&&e[n]instanceof t[n])return!0}return!1}function o(e,t,n){if(!n)throw new Error("passesValidation: name is required");if(!e||e[n]===undefined){if(t&&t[n]&&t[n].required)throw new Error('passesValidation: argument "'+n+'" is required');return!0}return!t||!t[n]||!t[n].test?!0:typeof t[n].test=="function"?t[n].test(e[n]):typeof t[n].test!="object"||!t[n].test.test?!1:t[n].test.test(e[n])}function u(){var e,t,n,r={};for(e=0;e<arguments.length;e++){n=arguments[e];for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t])}return r}var e=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,t=/,/,n=/^\s*(.+?)\s*$/,r=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;Function.prototype.applyNamed=function(e,t){var n,r,a,f,l=[],c=i(this);f=u(this.__namesArgs&&this.__namesArgs.defaults?this.__namesArgs.defaults:{},t);for(n=0;n<c.length;n++){a=c[n],r=f[a];if(!s(f,this.__namesArgs.types,a))throw new Error("applyNamed: "+f[a]+" is not of type "+this.__namesArgs.types[a]);if(!o(f,this.__namesArgs.validation,a))throw new Error("applyNamed: "+f[a]+" is not valid");l.push(r||null)}return this.apply(e,l)}})
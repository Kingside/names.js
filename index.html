<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Names.js : Bringing flexibility and clarity to JavaScript function calls." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Names.js</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/markstickley/names.js">View on GitHub</a>

          <h1 id="project_title">Names.js</h1>
          <h2 id="project_tagline">Bringing flexibility and clarity to JavaScript function calls.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/markstickley/names.js/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/markstickley/names.js/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p><a href="#Quickstart">Quick start</a></p>

<p><a href="#Why">Why?</a> | <a href="#About">Get</a> | <a href="#Loading">Loading</a></p>

<h2>What is names.js? <a></a>
</h2>

<p><code>names.js</code> augments the function prototype. Features include:</p>

<ul>
<li>Named, unordered arguments</li>
<li>Default argument values</li>
<li>Argument type checking</li>
<li>Argument validation</li>
</ul><h2>How to use names.js <a></a>
</h2>

<h3>Step 1: Declare</h3>

<pre><code>var doSomething = Function.createNamed(
    [
        ['arg1', 'argumentType', 'defaultValue'],
        ['arg2', 'string', 'defaultValue'], // Eg.
        ['arg3', MyClass, someVar] // or this
    ],
    function(arg1, arg2, arg3) {
        ...
    }
);
</code></pre>

<h3>Step 2: Call</h3>

<pre><code>doSomething.applyNamed(null, {
    arg1: 42,
    arg2: 'something else',
    arg3: aVariable
});
</code></pre>

<p><a href="#Usage">A more detailed explanation</a></p>

<h2>What problems does it solve? Why bother? <a></a>
</h2>

<p>When you call a function, you provide a list of arguments whose purpose is opaque without going to the function definition and reading the argument names. Going with the adage that code is read far more frequently than it is written, it makes sense that it should be clear what role arguments to a function have without having to jump to the function itself. <code>names.js</code> solves that problem.</p>

<p>Which is clearer to understand?</p>

<pre><code>node.clone(true);
</code></pre>

<p>or</p>

<pre><code>node.clone.applyNamed(node, { deep: true });
</code></pre>

<p>This call to <code>swfobject</code> would be an ideal candidate for <code>names.js</code>!</p>

<pre><code>swfobject.embedSWF("myContent.swf", "myContent", "300", "120", "9.0.0","expressInstall.swf", { foo: 'bar' }, { hello: 'world' }, { wmode: 'transparent' });
</code></pre>

<p>In addition to this, <code>names.js</code> supports:</p>

<ul>
<li>
<em>default values</em> for arguments, so you don't have to specify them each time for the common usage.</li>
<li>Argument type checking and simple validation so your functions can focus purely on their task and not worry about incorrect arguments.</li>
</ul><h2>Installation <a></a>
</h2>

<p>You only need <code>names.js</code> (or the minified version, <code>names.min.js</code>) so you can do one of the following:</p>

<ul>
<li>Clone the entire repo as a submodule of your project</li>
</ul><pre><code>git submodule add https://github.com/markstickley/names.js.git path/to/clone/to
</code></pre>

<ul>
<li><p>Go to the <a href="https://github.com/markstickley/names.js">project page</a> and click on <code>names.js</code> or <code>names.min.js</code> and download to include anywhere in your project</p></li>
<li><p>Or you could click one of the handy links at the top of the page to download the whole lot</p></li>
</ul><h2>Loading <a></a>
</h2>

<p><code>names.js</code> can be loaded with <a href="http://www.requirejs.org">requirejs</a> but if you are not using that you can just include it in a script tag.</p>

<h2>Usage <a></a>
</h2>

<p>First set up a function by calling <code>Function.create</code>.</p>

<pre><code>var myFunction = Function.create(
    [           // The items in this array represent the args of the function
                // They MUST be in the same order as they appear in the function
        [
            'arg_name', // This is how the first argument will be identified when calling applyNamed
                        // It doesn't have to match the name used in the function but it makes sense to.
            'type',     // This can either be the type returned by typeof, a class function.
                        // If you don't want to type check this arg, just leave it out or set to null.
            'default_value' // If provided, this default value will be used when the arg is not provided.
        ],
        ... // repeat the array above for all args
    ],
    function(arg_name, ...) {
        ...
    }
}
);
</code></pre>

<p>E.g.</p>

<pre><code>var divide = Function.create(
    [['dividend','number'],['divisor','number']],
    function(dividend,divisor) {
        return dividend/divisor;
    }
);
</code></pre>

<p>Optionally, you can add validation for any argument that needs it.</p>

<pre><code>myFunction.addValidation({
    arg_name: {
        test: /.*/, // This can be a regex or a function returning true or false
        required: true // If not set to true, if the arg is not provided it is not tested
    },
    ...
});
</code></pre>

<p>E.g.</p>

<pre><code>divide.addValidation({
    dividend: {
        required: true
    },
    divisor: {
        test: function(arg) {
            if(arg === 0) {
                console.log('Cannot divide by 0');
                return false;
            }
        },
        required: true
    }
});
</code></pre>

<p>Once set up, use <code>Function.prototype.applyNamed</code> to call your function. It works just like <code>Function.prototype.apply</code> (<a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/apply">docs</a>) except you pass an object as the second value instead of an array. </p>

<p>E.g.</p>

<pre><code>var quotient = divide.applyNamed(null, {
    dividsor: 5,
    dividend: 20
});
</code></pre>

<h2>Further Usage Information <a></a>
</h2>

<h3>Omitting an argument sets it to <code>null</code>
</h3>

<pre><code>var anyOldFunction = Function.createNamed(
    [['arg1'], ['arg2'], ['arg3']],
    function(arg1, arg2, arg3) {
        return [arg1, arg2, arg3];
    }
);

anyOldFunction.applyNamed(null, {
    arg3: 'baz',
    arg2: 'foo'
}); // returns [null, 'foo', 'baz']
</code></pre>

<h3>The __names property</h3>

<p>Your function has a property <code>__names</code>. You shouldn't need to manually change this, but it's useful to know for debugging. Here is the structure:</p>

<pre><code>myFunction.__names = {
    args: {
        ['arg1','arg2'] // The args in order
    },
    types: {
        arg1: 'string',
        arg2: Class
    },
    defaults: {
        arg1: 'default value'
        arg2: classInstance
    },
    validation: {
        arg1: {
            test: /.*/,
            required: true
        },
        arg2: {
            test: function() { return true; }
        }
    }
};
</code></pre>

<h3>Quick usage</h3>

<p>You can use <code>applyNamed</code> with any function, not just those created with <code>createNamed</code>. <em>However</em>, it is only recommended for test or prototype situations as it will not work once the code is minified.</p>

<pre><code>// This
myFunc.applyNamed(null, {
    arg1: 'something',
    arg2: 'somethingElse'
});

// Works with this
function myFunc(arg1, arg2) {
    ...
}

// But not this (the same code minified)
function a(b,c){
    ...
}
</code></pre>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Names.js maintained by <a href="https://github.com/markstickley">markstickley</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-17516604-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
